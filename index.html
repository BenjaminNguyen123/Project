<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slide by Slide Interaction</title>
    <style>
       body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4, #ffecd2, #fcb69f);;
            margin: 0;
        }
        .container {
            text-align: center;
            border: 2px solid #f2f2f2;
            padding: 50px;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            display: none;
            width: 60%;
        }
        .container.active {
            display: block;
        }
        h1 {
            color: #ff6b6b;
            font-size: 28px;
        }
        button {
            padding: 15px 30px;
            font-size: 20px;
            margin: 20px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            background-color: #ff6b6b;
            color: white;
            transition: background-color 0.3s ease-in-out;
        }
        button:hover {
            background-color: #ff4a4a;
        }
        input {
            padding: 20px;
            font-size: 20px;
            margin: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .option {
            padding: 30px 30px;
            font-size: 20px;
            margin: 20px;
            border-radius: 10px;
            border: 2px solid transparent;
            cursor: pointer;
            background-color: #f2f2f2;
            color: #333;
        }
        .option.selected {
            border-color: #ff6b6b;
        }
        .option:hover {
            background-color: #ffebeb;
        }
        .netflix-option, .food-option {
            text-align: center;
        }
        .netflix-option img, .food-option img {
            width: 145px;
            height: 145px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid transparent;
        }
        .netflix-option.selected img, .food-option.selected img {
            border: 3px solid #ff6b6b;
        }

        /* Colorful range slider styles */
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 15px;
            background: linear-gradient(to right, #ff0080, #ff8c00, #ffff00, #8cff00, #00ffcc); /* Colorful gradient */
            border-radius: 10px;
            outline: none;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #fff;
            border: 2px solid #ff6b6b;
            cursor: pointer;
        }

        input[type="range"]::-moz-range-thumb {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #fff;
            border: 2px solid #ff6b6b;
            cursor: pointer;
        }

        input[type="range"]::-ms-thumb {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #fff;
            border: 2px solid #ff6b6b;
            cursor: pointer;
        }
        
    </style>
</head>
<body>
    <!-- Your HTML body content goes here -->
</body>
</html>
</head>
<body>

<!-- Slide 1: Initial Date Invitation -->
<div class="container active" id="slide1">
    <h1>Would you like to go out with me for a date?</h1>
    <button onclick="showIntermediateSlide()">Yes ‚ù§Ô∏è</button>
    <button>No üò¢</button>
</div>

<!-- Slide 2: Intermediate Slide -->
<div class="container" id="slide2">
    <h1>YEAYYY!!! DON'T GO ANYWHERE</h1>
    <img src="https://i.giphy.com/mUYtAsf6G3i4wQDDCC.webp" alt="Excited GIF" style="width: 250px; margin: 50px auto; display: block;">

    <button onclick="showDateSlide()">(„Å•ÔΩ°‚óï‚Äø‚Äø‚óïÔΩ°)„Å• CLICK ME</button>
</div>

<!-- Slide 3: Date and Time Picker -->
<div class="container" id="slide3">
    <h1>When are you free?</h1>
    <input type="date" id="dateInput">
    <input type="time" id="timeInput">
    <button onclick="confirmDate()">( „Å•ÔΩ°‚óï‚Äø‚Äø‚óïÔΩ°)„Å• CLICK ME</button>
    <p id="response3"></p>
</div>

<!-- Slide 4: What Do You Want to Do? -->
<div class="container" id="activitySlide">
    <h1>What do you want to do?</h1>
    <div class="option" id="netflix" onclick="selectActivity('netflix')">
        Netflix and Chill üçø
    </div>
    <div class="option" id="eatout" onclick="selectActivity('eatout')">
        Go Out to Eat üçΩÔ∏è
    </div>
    <button onclick="continueActivity()">Continue</button>
</div>

<!-- Slide 5: Netflix and Chill Options -->
<!-- Slide 5: Netflix and Chill Options -->
<div class="container" id="netflixOptionSlide">
    <h1>What do you want to watch?</h1>
    <div class="options-grid"> <!-- Flex container for Netflix options -->
        <div class="option" id="option1" onclick="selectNetflixOption(1)">
            <img src="https://static2.vieon.vn/vieplay-image/poster_v4/2022/06/07/t0z9ceyq_660x946-2n1d.jpg" alt="Option 1">
            <p>2 ng√†y 1 ƒë√™m</p>
        </div>
        <div class="option" id="option2" onclick="selectNetflixOption(2)">
            <img src="https://i.scdn.co/image/ab67616d0000b273e623dffa87176f17458e71e5" alt="Option 2">
            <p>Rap Viet</p>
        </div>
        <div class="option" id="option3" onclick="selectNetflixOption(3)">
            <img src="https://i.scdn.co/image/ab67616d0000b273e6e6a2b1805d5f96601a4fc0" alt="Option 3">
            <p>Our Songs</p>
        </div>
        <div class="option" id="option4" onclick="selectNetflixOption(4)">
            <img src="https://i.ytimg.com/vi/ZMak63mHq5Y/maxresdefault.jpg" alt="Option 4">
            <p>Netflix</p>
        </div>
        <div class="option" id="option5" onclick="selectNetflixOption(5)">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-o6N1JeOKQ5TyHIMcCfJiCgEBpF0LdL_bqD-oQwjVDwPF6prGWzlZnUYuawM0Cb7ld_g&usqp=CAU" alt="Option 5">
            <p>·ªåC ·ªåC ·ªåC</p>
        </div>
    </div>
    <button id="continueNetflix" onclick="continueNetflix()">Continue</button>
</div>

<!-- Slide 6: Food Menu -->
<div class="container" id="foodMenuSlide">
    <h1>Where do you want to eat?</h1>
    <div class="options-grid"> <!-- Flex container for Food options -->
        <div class="option" id="food1" onclick="selectOption(1)">
            <img src="https://images.squarespace-cdn.com/content/v1/66b58b55b251b639d5c85f1e/fcd81e90-4651-4359-98a8-c37afbb2be4c/best+asian+food+in+lone+mountain+centennial+hills+in+las+vegas+north+summerline+3.png" alt="Korean BBQ">
            <p>Korean BBQ</p>
        </div>
        <div class="option" id="food2" onclick="selectOption(2)">
            <img src="https://ik.imagekit.io/awwybhhmo/satellite_images/japanese/gray/about_us/16.jpg?tr=w-3840" alt="Sushi">
            <p>Sushi</p>
        </div>
        <div class="option" id="food3" onclick="selectOption(3)">
            <img src="https://s3-media0.fl.yelpcdn.com/bphoto/L_MsM4zQdztIeEiR491mNg/1000s.jpg" alt="Hotpot">
            <p>Hotpot</p>
        </div>
        <div class="option" id="food4" onclick="selectOption(4)">
            <img src="https://www.wellplated.com/wp-content/uploads/2022/05/Juicy-Air-Fryer-Steak-Recipe.jpg" alt="Steak">
            <p>Steak</p>
        </div>
    </div>
    <button id="continueFood" onclick="continueSelection()">Continue</button>
</div>

<style>
    /* Flexbox layout for Netflix and Food options */
    .options-grid {
        display: flex;
        justify-content: space-around;
        flex-wrap: wrap;
        gap: 20px;
        margin: 20px 0;
    }

    /* Image styling with fixed size and consistent aspect ratio */
    .option img {
        width: 150px; /* Set a fixed width */
        height: 150px; /* Set a fixed height */
        border-radius: 50%;
        border: 3px solid transparent;
        object-fit: cover; /* Ensures the image covers the entire circle while keeping the aspect ratio */
        transition: border-color 0.3s;
    }

    /* Hover effect for images */
    .option:hover img {
        border-color: #ff6b6b;
    }

    .option p {
        margin-top: 10px;
        font-size: 16px;
        color: #333;
        text-align: center;
    }

    /* Responsive adjustments for smaller screens */
    @media (max-width: 768px) {
        .option {
            flex: 1 1 calc(50% - 40px); /* Adjust for smaller screens */
        }
    }

    @media (max-width: 480px) {
        .option {
            flex: 1 1 calc(100% - 40px); /* Stack items on top of each other on very small screens */
        }
    }
</style>

<!-- Slide 7: Rating Slide -->
<div class="container" id="ratingSlide" style="text-align: center;">
    <h1 style="font-family: 'Arial', sans-serif; font-weight: bold; color: #ff6b6b;">
        ü•∫üíñ
    </h1>
    <img src="https://i.pinimg.com/originals/ce/6f/64/ce6f64ad7e871ffd97d75e8153136f6c.gif" alt="Cute Cat" style="width: 150px; margin: 20px auto; display: block;">
    
    <!-- Rating Slider with Colorful Gradient -->
    <div class="rating-container" style="margin: 40px 0;">
        <p style="font-family: 'Arial', sans-serif; font-size: 24px; color: #ff6b6b;">
            Rate how excited are you
        </p>
        <input type="range" min="0" max="10" value="5" class="slider" id="excitementSlider" style="width: 70%; height: 15px;">
        <p class="rating-text" style="font-family: 'Arial', sans-serif; font-size: 18px; margin-top: 20px;">
            NAYY OR YAYYYY <span id="excitementValue">5</span>/10
        </p>
    </div>

    <button style="padding: 15px 30px; font-size: 18px; font-family: 'Arial', sans-serif; background-color: #ff6b6b; 
        border-radius: 10px; border: none; color: white; cursor: pointer;" onclick="submitRating()">
        Continue c(ÔºæÔºøÔºæ)„Å£
    </button>
</div>

<script>
    window.onload = function() {
        // Slider event binding
        document.getElementById('excitementSlider').oninput = function() {
            document.getElementById('excitementValue').innerText = this.value;
        };
    };
    </script>
<!-- Add the JavaScript to dynamically update the excitement level -->
<script>
document.getElementById('excitementSlider').oninput = function() {
    document.getElementById('excitementValue').innerText = this.value;
}
</script>

<!-- Final Slide -->
<div class="container" id="seeYouSoonSlide">
    <h1>See you soon! ‚ù§Ô∏è</h1>
    <img src="https://c.tenor.com/P9mZRMbhk4AAAAAC/tenor.gif" alt="Happy Cat" style="width: 300px; margin: 20px auto; display: block;">
    <p style="color: #ff6b6b; font-size: 24px;">Can't wait to see you on <span id="selectedDate"></span> at <span id="selectedTime"></span>.</p>
</div>

<script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">

</script>
<script type="text/javascript">
     const foodOptions = {
    1: 'Korean BBQ',
    2: 'Sushi',
    3: 'Hotpot',
    4: 'Steak'
};

const movieOptions = {
    1: '2 ng√†y 1 ƒë√™m',
    2: 'Rap Viet',
    3: 'Our Songs',
    4: 'Netflix',
    5: '·ªåC ·ªåC ·ªåC'
};
   (function(){
      emailjs.init({
        publicKey: 'eu6Sal3fQ-UYRI7Wi',
      });
   })();

    // Send Email function
    function sendEmail(data) {
    console.log("Sending email with data:", data);
    emailjs.send("service_tf9yp36", "template_v374pbf", data)
        .then(function(response) {
            console.log("SUCCESS!", response.status, response.text);
            alert("Your email has been sent successfully!");
        }, function(error) {
            console.log("FAILED...", error);
            alert("Oops! Something went wrong. Please try again.");
            console.log("Error details:", error);  // Log detailed error information
        });
}
    // Mapping food and movie options to their names


    

    // Show next slides
    function showIntermediateSlide() {
        document.getElementById('slide1').classList.remove('active');
        document.getElementById('slide2').classList.add('active');
    }

    function showDateSlide() {
        document.getElementById('slide2').classList.remove('active');
        document.getElementById('slide3').classList.add('active');
    }

    // Handle date and time selection
    function confirmDate() {
        let selectedDate = document.getElementById('dateInput').value;
        let selectedTime = document.getElementById('timeInput').value;

        if (selectedDate && selectedTime) {
            document.getElementById('slide3').classList.remove('active');
            document.getElementById('activitySlide').classList.add('active');
            localStorage.setItem('selectedDate', selectedDate);
            localStorage.setItem('selectedTime', selectedTime);
        } else {
            alert('Please select both a date and a time!');
        }
    }

    let selectedActivity = null;
    function selectActivity(activity) {
        selectedActivity = activity;
        if (activity === 'netflix') {
            document.getElementById('activitySlide').classList.remove('active');
            document.getElementById('netflixOptionSlide').classList.add('active');
        } else {
            document.getElementById('activitySlide').classList.remove('active');
            document.getElementById('foodMenuSlide').classList.add('active');
        }
    }

    let selectedNetflixOption = null;
    function selectNetflixOption(option) {
        selectedNetflixOption = option;
        const netflixOptions = document.getElementsByClassName('netflix-option');
        for (let i = 0; i < netflixOptions.length; i++) {
            netflixOptions[i].classList.remove('selected');
        }
        document.getElementById(`option${option}`).classList.add('selected');
    }
// Continue Netflix
function continueNetflix() {
        if (selectedNetflixOption !== null) {
            document.getElementById('netflixOptionSlide').classList.remove('active');
            document.getElementById('ratingSlide').classList.add('active');
        } else {
            alert('Please select a Netflix option before continuing.');
        }
    }



   // Food option selection
// Select Food Option
let selectedFoodOption = null;
    function selectOption(option) {
        selectedFoodOption = option;
        const foodItems = document.getElementsByClassName('food-option');
        for (let i = 0; i < foodItems.length; i++) {
            foodItems[i].classList.remove('selected');
        }
        document.getElementById(`food${option}`).classList.add('selected');
    }
// Continue Food Selection
function continueSelection() {
        if (selectedFoodOption !== null) {
            document.getElementById('foodMenuSlide').classList.remove('active');
            document.getElementById('ratingSlide').classList.add('active');
        } else {
            alert('Please select a food option before continuing.');
        }
    }


    function submitRating() {
    // Get the excitementSlider element safely and check if it exists
    const slider = document.getElementById('excitementSlider');
    if (!slider) {
        console.error("Slider not found.");
        return;  // Exit if the element isn't found
    }

    let rating = slider.value;

    // Check if Netflix or food option was selected
    let selectedMovie = selectedNetflixOption ? movieOptions[selectedNetflixOption] : 'None';
    let selectedFood = selectedFoodOption ? foodOptions[selectedFoodOption] : 'None';

    // Gather the selected data into templateParams
    const templateParams = {
        selected_date: localStorage.getItem('selectedDate'),  // From date selection
        selected_time: localStorage.getItem('selectedTime'),  // From time selection
        selected_activity: selectedActivity || 'None',  // Either Netflix or Eating Out
        selected_netflix_option: selectedMovie,  // Use movie name or 'None'
        selected_food_option: selectedFood,  // Use food name or 'None'
        excitement_rating: rating  // From the rating slider
    };

    // Debugging: Log templateParams to check if all values are correct
    console.log('Submitting rating with templateParams:', templateParams);

    // Move to the final slide (See You Soon Slide)
    document.getElementById('ratingSlide').classList.remove('active');
    document.getElementById('seeYouSoonSlide').classList.add('active');

    // Show the selected date and time on the See You Soon Slide
    document.getElementById('selectedDate').innerText = localStorage.getItem('selectedDate');
    document.getElementById('selectedTime').innerText = localStorage.getItem('selectedTime');

    // Send the email with the selected data
    sendEmail(templateParams);
}
</script>

</body>
</html>
